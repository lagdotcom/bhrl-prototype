{
  "version": 3,
  "sources": ["globalExternal:wglt", "globalExternal:rbush", "globalExternal:sat", "../node_modules/detect-collisions/src/model.ts", "../node_modules/detect-collisions/src/utils.ts", "../node_modules/detect-collisions/src/bodies/circle.ts", "globalExternal:poly-decomp", "../node_modules/detect-collisions/src/bodies/polygon.ts", "../node_modules/detect-collisions/src/bodies/ellipse.ts", "../node_modules/detect-collisions/src/bodies/box.ts", "../node_modules/detect-collisions/src/bodies/point.ts", "../node_modules/detect-collisions/src/bodies/line.ts", "../node_modules/detect-collisions/src/base-system.ts", "../node_modules/detect-collisions/src/system.ts", "../node_modules/detect-collisions/src/index.ts", "../src/Engine.ts", "../src/components/Position.ts", "../src/Entity.ts", "../src/components/Motion.ts", "../src/SortedSet.ts", "../src/components/Appearance.ts", "../src/components/Attachment.ts", "../src/prefabs/Battleship.ts", "../src/components/Turret.ts", "../src/prefabs/Bullet.ts", "../src/prefabs/Player.ts", "../src/tools/int.ts", "../src/index.ts"],
  "sourcesContent": ["module.exports = globalThis.wglt", "module.exports = globalThis.RBush", "module.exports = globalThis.SAT", null, null, null, "module.exports = globalThis.decomp", null, null, null, null, null, null, null, null, "import { Colors, Console, Terminal } from \"wglt\";\r\nimport Entity, { compareEntities } from \"./Entity\";\r\nimport { Line, System } from \"detect-collisions\";\r\n\r\nimport Motion from \"./components/Motion\";\r\nimport Position from \"./components/Position\";\r\nimport SortedSet from \"./SortedSet\";\r\nimport getBattleship from \"./prefabs/Battleship\";\r\nimport getBullet from \"./prefabs/Bullet\";\r\nimport getPlayer from \"./prefabs/Player\";\r\nimport int from \"./tools/int\";\r\nimport { turretReducer } from \"./components/Turret\";\r\n\r\nconst MAP_WIDTH = 60;\r\nconst MAP_HEIGHT = 40;\r\n\r\nexport default class Engine {\r\n  lastEntityId: number;\r\n\r\n  fovRecompute: boolean;\r\n  map: Console;\r\n  entities: SortedSet<Entity>;\r\n  player!: Entity;\r\n\r\n  constructor(public term: Terminal) {\r\n    term.update = this.update.bind(this);\r\n\r\n    this.fovRecompute = true;\r\n    this.map = new Console(MAP_WIDTH, MAP_HEIGHT, () => true);\r\n    this.lastEntityId = 0;\r\n    this.entities = new SortedSet(compareEntities);\r\n  }\r\n\r\n  add(e: Entity) {\r\n    this.entities.add(e);\r\n    if (e.Player) this.player = e;\r\n  }\r\n\r\n  addMany(es: Entity[]) {\r\n    for (const e of es) this.add(e);\r\n  }\r\n\r\n  gotoDemoRoom() {\r\n    this.entities.clear();\r\n\r\n    this.map.clear();\r\n    this.room(1, 1, 40, 30);\r\n    this.add(getPlayer(this).setPosition(new Position(5, 25)));\r\n\r\n    const { ship, parts } = getBattleship(this);\r\n    this.add(ship);\r\n    this.addMany(parts);\r\n    ship.move(8, 5);\r\n  }\r\n\r\n  room(sx: number, sy: number, w: number, h: number) {\r\n    const { map } = this;\r\n\r\n    for (let yo = 0; yo < h; yo++) {\r\n      for (let xo = 0; xo < w; xo++) {\r\n        const wall = xo === 0 || yo === 0 || xo === w - 1 || yo === h - 1;\r\n        const x = sx + xo;\r\n        const y = sy + yo;\r\n\r\n        map.setBlocked(x, y, wall);\r\n        map.setBlockedSight(x, y, wall);\r\n      }\r\n    }\r\n  }\r\n\r\n  draw() {\r\n    const { map, player, term, entities } = this;\r\n\r\n    if (this.fovRecompute) {\r\n      map.computeFov(player.Position!.x, player.Position!.y, 20);\r\n      this.fovRecompute = false;\r\n    }\r\n\r\n    for (let y = 0; y < MAP_HEIGHT; y++) {\r\n      for (let x = 0; x < MAP_WIDTH; x++) {\r\n        const cell = map.grid[y][x];\r\n        const visible = map.isVisible(x, y);\r\n        const wall = cell.blockedSight;\r\n        let color = Colors.BLACK;\r\n\r\n        if (visible) {\r\n          // It's visible\r\n          color = wall ? Colors.WHITE : Colors.DARK_GRAY;\r\n          cell.explored = true;\r\n        } else if (cell.explored) {\r\n          // It's remembered\r\n          color = wall ? Colors.LIGHT_GRAY : Colors.BLACK;\r\n        }\r\n\r\n        term.drawChar(x, y, 0, 0, color);\r\n      }\r\n    }\r\n\r\n    const draw = (x: number, y: number, g: string, f: number, b?: number) => {\r\n      if (map.isVisible(x, y)) term.drawChar(x, y, g, f, b);\r\n    };\r\n\r\n    for (const e of entities.get()) {\r\n      const { Appearance, Position } = e;\r\n\r\n      if (Appearance && Position)\r\n        draw(\r\n          int(Position.x),\r\n          int(Position.y),\r\n          Appearance.glyph,\r\n          Appearance.fg,\r\n          Appearance.bg\r\n        );\r\n    }\r\n  }\r\n\r\n  turrets() {\r\n    const { entities } = this;\r\n    const playerPos = this.player.Position!;\r\n\r\n    for (const e of entities.get()) {\r\n      const { Position, Turret } = e;\r\n      if (Position && Turret) {\r\n        turretReducer(Turret);\r\n        if (Turret.mode === \"fire\") {\r\n          const bullet = getBullet(this)\r\n            .setPosition({ x: Position.x + 0.5, y: Position.y + 0.5 })\r\n            .setMotion(\r\n              Motion.fromAngleAndVelocity(\r\n                Math.atan2(playerPos.y - Position.y, playerPos.x - Position.x),\r\n                Turret.bulletVelocity\r\n              )\r\n            );\r\n          entities.add(bullet);\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  motion() {\r\n    // const { entities, map } = this;\r\n\r\n    // for (const e of entities.get()) {\r\n    //   const { Motion, Position } = e;\r\n\r\n    //   if (Motion && Position) {\r\n    //     const newPos = e.move(Position.x + Motion.x, Position.y + Motion.y);\r\n\r\n    //     if (map.isBlocked(int(newPos.x), int(newPos.y)) && e.Projectile)\r\n    //       entities.delete(e);\r\n    //   }\r\n    // }\r\n\r\n    const { entities, map, player } = this;\r\n    const physics = new System();\r\n    const bits = new Map<\r\n      string,\r\n      | { type: \"wall\" }\r\n      | { type: \"ship\"; e: Entity }\r\n      | { type: \"bullet\"; e: Entity }\r\n      | { type: \"player\" }\r\n    >();\r\n\r\n    // insert walls\r\n    for (let y = 0; y < map.height; y++) {\r\n      for (let x = 0; x < map.width; x++) {\r\n        if (map.isBlocked(x, y)) {\r\n          const wall = physics.createBox({ x, y }, 1, 1, { isStatic: true });\r\n          bits.set(wall.uid, { type: \"wall\" });\r\n        }\r\n      }\r\n    }\r\n\r\n    // insert ships\r\n    for (const e of entities.get()) {\r\n      const { Solid, Motion, Position, Projectile } = e;\r\n\r\n      if (Position) {\r\n        const { x, y } = Position;\r\n\r\n        if (Solid) {\r\n          // insert ships\r\n          const ship = physics.createBox({ x, y }, 1, 1);\r\n          bits.set(ship.uid, { type: \"ship\", e });\r\n        } else if (Projectile && Motion) {\r\n          // insert bullets\r\n          const newPos = { x: x + Motion.x, y: y + Motion.y };\r\n\r\n          const old = physics.createBox({ x: x - 0.25, y: y - 0.25 }, 0.5, 0.5);\r\n          bits.set(old.uid, { type: \"bullet\", e });\r\n          const nu = physics.createBox(\r\n            { x: newPos.x - 0.5, y: newPos.y - 0.25 },\r\n            0.5,\r\n            0.5\r\n          );\r\n          bits.set(nu.uid, { type: \"bullet\", e });\r\n          const line = physics.createLine({ x, y }, newPos);\r\n          bits.set(line.uid, { type: \"bullet\", e });\r\n\r\n          e.move(newPos.x, newPos.y);\r\n        }\r\n      }\r\n    }\r\n\r\n    // insert player\r\n    const pbox = physics.createBox(player.Position!, 1, 1);\r\n    bits.set(pbox.uid, { type: \"player\" });\r\n\r\n    physics.update();\r\n    physics.checkAll((r) => {\r\n      const a = bits.get(r.a.uid);\r\n      const b = bits.get(r.b.uid);\r\n      if (!a || !b) return;\r\n\r\n      if (a.type === \"wall\") {\r\n        if (b instanceof Entity && b.Projectile) {\r\n          // console.log(\"killed\", b);\r\n          entities.delete(b);\r\n        }\r\n        return;\r\n      }\r\n      if (b.type === \"wall\") {\r\n        if (a instanceof Entity && a.Projectile) {\r\n          // console.log(\"killed\", a);\r\n          entities.delete(a);\r\n        }\r\n        return;\r\n      }\r\n\r\n      if (a.type === \"player\" && b.type === \"bullet\" && b.e.alive) {\r\n        // console.log(b, \"hits\", a);\r\n        b.e.kill();\r\n        entities.delete(b.e);\r\n      } else if (b.type === \"player\" && a.type === \"bullet\" && a.e.alive) {\r\n        // console.log(a, \"hits\", b);\r\n        a.e.kill();\r\n        entities.delete(a.e);\r\n      }\r\n    });\r\n  }\r\n\r\n  tick() {\r\n    this.turrets();\r\n    this.motion();\r\n  }\r\n\r\n  handleKeys() {\r\n    const { map, player, term } = this;\r\n\r\n    const move = term.getMovementKey();\r\n    if (move) {\r\n      const dx = player.Position!.x + move.x;\r\n      const dy = player.Position!.y + move.y;\r\n\r\n      if (!map.isBlocked(dx, dy)) {\r\n        player.move(dx, dy);\r\n        this.fovRecompute = true;\r\n\r\n        this.tick();\r\n      }\r\n    }\r\n  }\r\n\r\n  update() {\r\n    this.handleKeys();\r\n    this.draw();\r\n  }\r\n}\r\n", "export default class Position {\r\n  constructor(public x: number, public y: number) {}\r\n}\r\n", "import Appearance from \"./components/Appearance\";\r\nimport Attachment from \"./components/Attachment\";\r\nimport Engine from \"./Engine\";\r\nimport Motion from \"./components/Motion\";\r\nimport Position from \"./components/Position\";\r\nimport Turret from \"./components/Turret\";\r\n\r\nexport default class Entity {\r\n  alive: boolean;\r\n  id: number;\r\n  Appearance?: Appearance;\r\n  Attachment?: Attachment;\r\n  Motion?: Motion;\r\n  Player: boolean;\r\n  Projectile: boolean;\r\n  Position?: Position;\r\n  Solid: boolean;\r\n  Turret?: Turret;\r\n\r\n  constructor(public g: Engine, public name?: string) {\r\n    this.alive = true;\r\n    this.id = ++g.lastEntityId;\r\n    this.Player = false;\r\n    this.Projectile = false;\r\n    this.Solid = false;\r\n  }\r\n\r\n  get [Symbol.toStringTag]() {\r\n    return this.name;\r\n  }\r\n\r\n  kill(): this {\r\n    this.alive = false;\r\n    return this;\r\n  }\r\n\r\n  eachChild(callback: (e: Entity, at: Attachment) => void) {\r\n    for (const e of this.g.entities.get()) {\r\n      if (e.Attachment?.parent === this) callback(e, e.Attachment);\r\n    }\r\n  }\r\n\r\n  setAppearance(c?: Appearance): this {\r\n    this.Appearance = c;\r\n    return this;\r\n  }\r\n\r\n  setAttachment(c?: Attachment): this {\r\n    this.Attachment = c;\r\n    return this;\r\n  }\r\n\r\n  setMotion(c?: Motion): this {\r\n    this.Motion = c;\r\n    return this;\r\n  }\r\n\r\n  setPosition(c?: Position): this {\r\n    this.Position = c;\r\n    return this;\r\n  }\r\n\r\n  setTurret(c?: Turret): this {\r\n    this.Turret = c;\r\n    return this;\r\n  }\r\n\r\n  setPlayer(tag: boolean): this {\r\n    this.Player = tag;\r\n    return this;\r\n  }\r\n\r\n  setProjectile(tag: boolean): this {\r\n    this.Projectile = tag;\r\n    return this;\r\n  }\r\n\r\n  setSolid(tag: boolean): this {\r\n    this.Solid = tag;\r\n    return this;\r\n  }\r\n\r\n  move(x: number, y: number) {\r\n    this.Position = new Position(x, y);\r\n    this.eachChild((e, at) => e.move(x + at.x, y + at.y));\r\n    return this.Position;\r\n  }\r\n}\r\n\r\nexport function compareEntities(a: Entity, b: Entity) {\r\n  const layerA = a.Appearance?.layer ?? 0;\r\n  const layerB = b.Appearance?.layer ?? 0;\r\n\r\n  return layerA - layerB;\r\n}\r\n", "export default class Motion {\r\n  constructor(public x: number, public y: number) {}\r\n\r\n  static fromAngleAndVelocity(angle: number, vel: number) {\r\n    return new Motion(Math.cos(angle) * vel, Math.sin(angle) * vel);\r\n  }\r\n}\r\n", "export default class SortedSet<T> {\r\n  dirty: boolean;\r\n\r\n  constructor(\r\n    private compareFn: (a: T, b: T) => number,\r\n    private items: T[] = []\r\n  ) {\r\n    this.dirty = true;\r\n  }\r\n\r\n  clear() {\r\n    this.items = [];\r\n    this.dirty = false;\r\n  }\r\n\r\n  add(item: T) {\r\n    this.items.push(item);\r\n    this.dirty = true;\r\n  }\r\n\r\n  delete(item: T) {\r\n    this.items = this.items.filter((i) => i !== item);\r\n  }\r\n\r\n  sort() {\r\n    this.items.sort(this.compareFn);\r\n    this.dirty = false;\r\n  }\r\n\r\n  get() {\r\n    if (this.dirty) this.sort();\r\n    return this.items;\r\n  }\r\n}\r\n", "export enum Layer {\r\n  Ship,\r\n  Bullet,\r\n  Player,\r\n}\r\n\r\nexport default class Appearance {\r\n  constructor(\r\n    public glyph: string,\r\n    public layer: Layer,\r\n    public fg: number,\r\n    public bg?: number\r\n  ) {}\r\n}\r\n", "import Entity from \"../Entity\";\r\n\r\nexport default class Attachment {\r\n  constructor(public parent: Entity, public x: number, public y: number) {}\r\n}\r\n", "import Appearance, { Layer } from \"../components/Appearance\";\r\n\r\nimport Attachment from \"../components/Attachment\";\r\nimport { Colors } from \"wglt\";\r\nimport Engine from \"../Engine\";\r\nimport Entity from \"../Entity\";\r\nimport Turret from \"../components/Turret\";\r\n\r\nexport default function getBattleship(g: Engine) {\r\n  const ship = new Entity(g, \"Battleship\");\r\n  const parts = [\r\n    new Entity(g, \"BattleshipHull\")\r\n      .setAttachment(new Attachment(ship, 1, 0))\r\n      .setAppearance(\r\n        new Appearance(\"/\", Layer.Ship, Colors.WHITE, Colors.BROWN)\r\n      )\r\n      .setSolid(true),\r\n    new Entity(g, \"BattleshipHull\")\r\n      .setAttachment(new Attachment(ship, 2, 0))\r\n      .setAppearance(\r\n        new Appearance(\"#\", Layer.Ship, Colors.WHITE, Colors.BROWN)\r\n      )\r\n      .setSolid(true),\r\n    new Entity(g, \"BattleshipTurret\")\r\n      .setAttachment(new Attachment(ship, 0, 1))\r\n      .setAppearance(\r\n        new Appearance(\"o\", Layer.Ship, Colors.WHITE, Colors.BROWN)\r\n      )\r\n      .setTurret(new Turret(3, 2, 1, 5))\r\n      .setSolid(true),\r\n    new Entity(g, \"BattleshipHull\")\r\n      .setAttachment(new Attachment(ship, 1, 1))\r\n      .setAppearance(\r\n        new Appearance(\"#\", Layer.Ship, Colors.WHITE, Colors.BROWN)\r\n      )\r\n      .setSolid(true),\r\n    new Entity(g, \"BattleshipTurret\")\r\n      .setAttachment(new Attachment(ship, 2, 1))\r\n      .setAppearance(\r\n        new Appearance(\"o\", Layer.Ship, Colors.WHITE, Colors.BROWN)\r\n      )\r\n      .setTurret(new Turret(2, 5, 0, 12))\r\n      .setSolid(true),\r\n  ];\r\n\r\n  return { ship, parts };\r\n}\r\n", "export default class Turret {\r\n  constructor(\r\n    public bulletVelocity: number,\r\n    public salvoCount: number,\r\n    public timeBetweenShots: number,\r\n    public timeBetweenSalvos: number,\r\n    public mode = \"idle\",\r\n    public timer = 0,\r\n    public salvo = 0\r\n  ) {}\r\n}\r\n\r\nexport function turretReducer(state: Turret) {\r\n  switch (state.mode) {\r\n    case \"idle\":\r\n      state.mode = \"fire\";\r\n      state.salvo = state.salvoCount - 1;\r\n      state.timer = state.timeBetweenShots;\r\n      break;\r\n\r\n    case \"fire\":\r\n      state.timer--;\r\n      if (state.salvo > 0) {\r\n        if (state.timer <= 0) state.mode = \"mid-salvo\";\r\n      } else {\r\n        state.mode = \"reloading\";\r\n      }\r\n      break;\r\n\r\n    case \"mid-salvo\":\r\n      state.mode = \"fire\";\r\n      state.salvo--;\r\n      if (state.salvo > 0) state.timer = state.timeBetweenShots;\r\n      else state.timer = state.timeBetweenSalvos;\r\n      break;\r\n\r\n    case \"reloading\":\r\n      state.timer--;\r\n      if (state.timer <= 0) state.mode = \"idle\";\r\n      break;\r\n  }\r\n\r\n  return state;\r\n}\r\n", "import Appearance, { Layer } from \"../components/Appearance\";\r\n\r\nimport { Colors } from \"wglt\";\r\nimport Engine from \"../Engine\";\r\nimport Entity from \"../Entity\";\r\n\r\nexport default function getBullet(g: Engine) {\r\n  return new Entity(g, \"Bullet\")\r\n    .setProjectile(true)\r\n    .setAppearance(new Appearance(\".\", Layer.Bullet, Colors.YELLOW));\r\n}\r\n", "import Appearance, { Layer } from \"../components/Appearance\";\r\n\r\nimport { Colors } from \"wglt\";\r\nimport Engine from \"../Engine\";\r\nimport Entity from \"../Entity\";\r\n\r\nexport default function getPlayer(g: Engine) {\r\n  return new Entity(g, \"Player\")\r\n    .setPlayer(true)\r\n    .setAppearance(\r\n      new Appearance(\">\", Layer.Player, Colors.WHITE, Colors.DARK_RED)\r\n    );\r\n}\r\n", "export default function int(n: number) {\r\n  return Math.floor(n);\r\n}\r\n", "import Engine from \"./Engine\";\r\nimport { Terminal } from \"wglt\";\r\n\r\nfunction loadEngine(parent: HTMLElement) {\r\n  const cols = 60;\r\n  const rows = 40;\r\n\r\n  const container = document.createElement(\"div\");\r\n  parent.appendChild(container);\r\n  const onResize = () => {\r\n    const wantWidth = cols * 8;\r\n    const wantHeight = rows * 8;\r\n\r\n    const ratioWidth = Math.floor(window.innerWidth / wantWidth);\r\n    const ratioHeight = Math.floor(window.innerHeight / wantHeight);\r\n    const ratio = Math.min(ratioWidth, ratioHeight);\r\n\r\n    container.style.width = `${wantWidth * ratio}px`;\r\n    container.style.height = `${wantHeight * ratio}px`;\r\n  };\r\n  window.addEventListener(\"resize\", onResize);\r\n  onResize();\r\n\r\n  const canvas = document.createElement(\"canvas\");\r\n  container.appendChild(canvas);\r\n\r\n  const term = new Terminal(canvas, cols, rows);\r\n  const g = new Engine(term);\r\n  g.gotoDemoRoom();\r\n  (window as any).g = g;\r\n}\r\n\r\nwindow.addEventListener(\"load\", () => loadEngine(document.body));\r\n"],
  "mappings": "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",
  "names": ["require_wglt", "__commonJSMin", "exports", "module", "require_rbush", "__commonJSMin", "exports", "module", "require_sat", "__commonJSMin", "exports", "module", "rbush_1", "__importDefault", "exports", "sat_1", "Types", "sat_1", "model_1", "createEllipse", "radiusX", "radiusY", "step", "steps", "length", "_", "index", "value", "x", "y", "exports", "createBox", "width", "height", "ensureVectorPoint", "point", "ensurePolygonPoints", "points", "polygonPoints", "clockwise", "distance", "a", "b", "sum", "i", "v1", "v2", "extendBody", "body", "options", "bodyMoved", "intersectAABB", "checkAInB", "insideX", "insideY", "clonePointsArray", "dashLineTo", "context", "fromX", "fromY", "toX", "toY", "dash", "gap", "xDiff", "yDiff", "arc", "offsetX", "offsetY", "posX", "posY", "dist", "intersectLineCircle", "line", "circle", "c", "d", "u1", "u2", "results", "intersectLineLine", "line1", "line2", "dX", "dY", "determinant", "lambda", "gamma", "intersectLinePolygon", "polygon", "to", "from", "side", "test", "mapVectorToArray", "mapArrayToVector", "ensureConvex", "getBounceDirection", "collider", "len", "getSATFunction", "wall", "drawPolygon", "pos", "calcPoints", "isTrigger", "prev", "toJSON", "object", "key", "id", "generateId", "sat_1", "model_1", "utils_1", "Circle", "position", "radius", "options", "x", "_a", "y", "scale", "_ignoredParameter", "angle", "offset", "context", "max", "i", "arc", "arcPrev", "fromX", "fromY", "toX", "toY", "sin", "cos", "exports", "require_poly_decomp", "__commonJSMin", "exports", "module", "poly_decomp_1", "sat_1", "model_1", "utils_1", "Polygon", "position", "points", "options", "x", "_a", "y", "scale", "point", "i", "pos", "w", "h", "context", "angle", "centroid", "polygon", "convex", "index", "exports", "model_1", "utils_1", "polygon_1", "Ellipse", "position", "radiusX", "radiusY", "step", "options", "exports", "model_1", "utils_1", "polygon_1", "Box", "position", "width", "height", "options", "exports", "model_1", "utils_1", "box_1", "Point", "position", "options", "exports", "sat_1", "model_1", "polygon_1", "Line", "start", "end", "options", "x", "y", "exports", "box_1", "circle_1", "ellipse_1", "line_1", "point_1", "polygon_1", "model_1", "utils_1", "BaseSystem", "context", "body", "drawChildren", "x", "maxX", "y", "maxY", "children", "position", "options", "point", "start", "end", "line", "radius", "circle", "width", "height", "box", "radiusX", "radiusY", "step", "ellipse", "points", "polygon", "exports", "base_system_1", "line_1", "model_1", "utils_1", "System", "body", "equals", "a", "overlapV", "callback", "candidate", "wall", "sat", "convexWall", "convexBody", "convexBodies", "convexWalls", "start", "end", "allowCollider", "minDistance", "result", "collider", "point", "pointDistance", "find", "children", "index", "data", "collides", "exports", "__exportStar", "exports", "import_wglt", "Position", "x", "y", "Entity", "g", "name", "callback", "_a", "e", "c", "tag", "x", "y", "Position", "at", "compareEntities", "a", "b", "_b", "_c", "_d", "layerA", "layerB", "import_detect_collisions", "Motion", "x", "y", "angle", "vel", "SortedSet", "compareFn", "items", "item", "i", "Appearance", "glyph", "layer", "fg", "bg", "Attachment", "parent", "x", "y", "import_wglt", "Turret", "bulletVelocity", "salvoCount", "timeBetweenShots", "timeBetweenSalvos", "mode", "timer", "salvo", "turretReducer", "state", "getBattleship", "g", "ship", "Entity", "parts", "Attachment", "Appearance", "Turret", "import_wglt", "getBullet", "g", "Entity", "Appearance", "import_wglt", "getPlayer", "g", "Entity", "Appearance", "int", "n", "MAP_WIDTH", "MAP_HEIGHT", "Engine", "term", "SortedSet", "compareEntities", "e", "es", "getPlayer", "Position", "ship", "parts", "getBattleship", "sx", "sy", "w", "h", "map", "yo", "xo", "wall", "x", "y", "player", "entities", "cell", "visible", "color", "draw", "g", "f", "b", "Appearance", "int", "playerPos", "Turret", "turretReducer", "bullet", "getBullet", "Motion", "physics", "bits", "Solid", "Projectile", "newPos", "old", "nu", "line", "pbox", "r", "Entity", "move", "dx", "dy", "import_wglt", "loadEngine", "parent", "container", "onResize", "ratioWidth", "ratioHeight", "ratio", "canvas", "term", "g", "Engine"]
}
